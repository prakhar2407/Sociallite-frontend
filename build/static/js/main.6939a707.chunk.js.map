{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","dummyData.js","components/closeFriend/CloseFriend.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Topbar","useContext","PF","process","className","to","style","textDecoration","Search","placeholder","Person","color","Chat","Notifications","username","src","profilePicture","alt","Users","id","CloseFriend","Sidebar","RssFeed","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","map","u","Post","post","useState","likes","length","like","setLike","isLiked","setIsLiked","setUser","API","currentUser","includes","_id","a","axios","get","userId","res","data","fetchUser","likeHandler","put","err","format","createdAt","MoreVert","desc","img","onClick","comment","Share","useRef","file","setFile","submitHandler","e","preventDefault","newPost","current","FormData","fileName","Date","now","name","append","console","log","window","location","reload","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","senderId","receiverId","HomeRightbar","ProfileRightbar","Remove","Add","city","from","relationship","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","size","Profile","useParams","coverPicture","Register","passwordAgain","history","useHistory","setCustomValidity","push","textAlign","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setOnlineUsers","socket","scrollRef","io","on","sender","prev","emit","users","some","getConversations","getMessages","handleSubmit","conversationId","member","scrollIntoView","behavior","c","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6939a707.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useEffect, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n  \n  useEffect(()=>{\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\n  },[state.user])\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import \"./topbar.css\";\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Topbar() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  // const API = process.env.REACT_APP_API_BASE_URL;\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">Sociallite</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchbar\">\n          <Search className=\"searchIcon\" />\n          <input\n            placeholder=\"Search for friend, post or video\"\n            className=\"searchInput\"\n          />\n        </div>\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <span className=\"topbarLink\">Homepage</span>\n          <span className=\"topbarLink\">Timeline</span>\n        </div>\n        <div className=\"topbarIcons\">\n          <div className=\"topbarIconItem\">\n            <Person />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n          <div className=\"topbarIconItem\">\n            <Link to=\"/messenger\" style={{ color: \"white\" }}>\n              <Chat />\n            </Link>\n            <span className=\"topbarIconBadge\">2</span>\n          </div>\n          <div className=\"topbarIconItem\">\n            <Notifications />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n        </div>\n        <Link to={`/profile/${user.username}`}>\n          <img\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n            className=\"topbarImg\"\n          />\n        </Link>\n      </div>\n    </div>\n  );\n}\n","export const Users = [\n  {\n    id: 1,\n    profilePicture: \"person/1.jpeg\",\n    username: \"Akshay Kumar\",\n  },\n  {\n    id: 2,\n    profilePicture: \"person/2.jpeg\",\n    username: \"Manoj Bajpayee\",\n  },\n  {\n    id: 3,\n    profilePicture: \"person/3.jpeg\",\n    username: \"Salman Khan\",\n  },\n  {\n    id: 4,\n    profilePicture: \"person/4.jpeg\",\n    username: \"Katrina Kaif\",\n  },\n  {\n    id: 5,\n    profilePicture: \"person/5.jpeg\",\n    username: \"Vicky Kaushal\",\n  },\n  {\n    id: 6,\n    profilePicture: \"person/6.jpeg\",\n    username: \"Chunky Pandey\",\n  },\n  {\n    id: 7,\n    profilePicture: \"person/7.jpeg\",\n    username: \"Govinda\",\n  },\n  {\n    id: 8,\n    profilePicture: \"person/8.jpeg\",\n    username: \"Amir Khan\",\n  },\n  {\n    id: 9,\n    profilePicture: \"person/9.jpeg\",\n    username: \"Disha Patani\",\n  },\n  {\n    id: 10,\n    profilePicture: \"person/10.jpeg\",\n    username: \"Kiara Advani\",\n  },\n];\n\nexport const Posts = [\n  {\n    id: 1,\n    desc: \"Love For All, Hatred For None.\",\n    photo: \"post/1.jpeg\",\n    date: \"5 mins ago\",\n    userId: 1,\n    like: 32,\n    comment: 9,\n  },\n  {\n    id: 2,\n    photo: \"post/2.jpeg\",\n    date: \"15 mins ago\",\n    userId: 2,\n    like: 2,\n    comment: 1,\n  },\n  {\n    id: 3,\n    desc: \"Every moment is a fresh beginning.\",\n    photo: \"post/3.jpeg\",\n    date: \"1 hour ago\",\n    userId: 3,\n    like: 61,\n    comment: 2,\n  },\n  {\n    id: 4,\n    photo: \"post/4.jpeg\",\n    date: \"4 hours ago\",\n    userId: 4,\n    like: 7,\n    comment: 3,\n  },\n  {\n    id: 5,\n    photo: \"post/5.jpeg\",\n    date: \"5 hours ago\",\n    userId: 5,\n    like: 23,\n    comment: 5,\n  },\n  {\n    id: 6,\n    photo: \"post/6.jpeg\",\n    date: \"1 day ago\",\n    userId: 6,\n    like: 44,\n    comment: 6,\n  },\n  {\n    id: 7,\n    desc: \"Never regret anything that made you smile.\",\n    photo: \"post/7.jpeg\",\n    date: \"2 days ago\",\n    userId: 7,\n    like: 52,\n    comment: 3,\n  },\n  {\n    id: 8,\n    photo: \"post/8.jpeg\",\n    date: \"3 days ago\",\n    userId: 8,\n    like: 15,\n    comment: 1,\n  },\n  {\n    id: 9,\n    desc: \"Change the world by being yourself.\",\n    photo: \"post/9.jpeg\",\n    date: \"5 days ago\",\n    userId: 9,\n    like: 11,\n    comment: 2,\n  },\n  {\n    id: 10,\n    photo: \"post/10.jpeg\",\n    date: \"1 week ago\",\n    userId: 10,\n    like: 104,\n    comment: 12,\n  },\n];\n","import \"./closeFriend.css\";\n\nexport default function CloseFriend({user}) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  // const API = process.env.REACT_APP_API_BASE_URL;\n  return (\n    <li className=\"sidebarFriend\">\n      <img className=\"sidebarFriendImg\" src={PF+user.profilePicture} alt=\"\" />\n      <span className=\"sidebarFriendName\">{user.username}</span>\n    </li>\n  );\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilledOutlined,\n  Group,\n  Bookmark,\n  HelpOutline,\n  WorkOutline,\n  Event,\n  School,\n} from \"@material-ui/icons\";\nimport { Users } from \"../../dummyData\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Sidebar() {\n  // const API = process.env.REACT_APP_API_BASE_URL;\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">\n              <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n                Feed\n              </Link>\n            </span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">\n              <Link\n                to=\"/messenger\"\n                style={{ textDecoration: \"none\", color: \"black\" }}\n              >\n                Chats\n              </Link>\n            </span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Videos</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Group className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Groups</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Bookmark className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Bookmarks</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <HelpOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Questions</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <WorkOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Jobs</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Event className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Events</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <School className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Courses</span>\n          </li>\n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        <ul className=\"sidebarFriendList\">\n          {Users.map((u) => (\n            <CloseFriend key={u.id} user={u} />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import \"./post.css\";\nimport { MoreVert } from \"@material-ui/icons\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Post({ post }) {\n  const [like, setLike] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const API = process.env.REACT_APP_API_BASE_URL;\n  const { user: currentUser } = useContext(AuthContext);\n\n  useEffect(() => {\n    setIsLiked(post.likes.includes(currentUser._id));\n  }, [currentUser._id, post.likes]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${API}/users?userId=${post.userId}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [API,post.userId]);\n\n  const likeHandler = () => {\n    try {\n      axios.put(API+\"/posts/\" + post._id + \"/like\", { userId: currentUser._id });\n    } catch (err) {}\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n            <Link to={`/profile/${user.username}`}>\n              <img\n                className=\"postProfileImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </Link>\n            <span className=\"postUsername\">{user.username}</span>\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n          <div className=\"postTopRight\">\n            <MoreVert />\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          <span className=\"postText\">{post?.desc}</span>\n          <img className=\"postImg\" src={PF + post.img} alt=\"\" />\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            <img\n              className=\"likeIcon\"\n              src={`${PF}like.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <img\n              className=\"likeIcon\"\n              src={`${PF}heart.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <span className=\"postLikeCounter\">{like} people like it</span>\n          </div>\n          <div className=\"postBottomRight\">\n            <span className=\"postCommentText\">{post.comment} comments</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./share.css\";\nimport {\n  PermMedia,\n  Label,\n  Room,\n  EmojiEmotions,\n  Cancel,\n} from \"@material-ui/icons\";\nimport { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\n\nexport default function Share() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const API = process.env.REACT_APP_API_BASE_URL;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value,\n    };\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      newPost.img = fileName;\n      console.log(newPost);\n      try {\n        await axios.post(API+\"/upload\", data);\n      } catch (err) {}\n    }\n    try {\n      await axios.post(API+\"/posts\", newPost);\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <img\n            className=\"shareProfileImg\"\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n          />\n          <input\n            placeholder={\"What's in your mind \" + user.username + \"?\"}\n            className=\"shareInput\"\n            ref={desc}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        {file && (\n          <div className=\"shareImgContainer\">\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\n          </div>\n        )}\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\n          <div className=\"shareOptions\">\n            <label htmlFor=\"file\" className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Photo or Video</span>\n              <input\n                style={{ display: \"none\" }}\n                type=\"file\"\n                id=\"file\"\n                accept=\".png,.jpeg,.jpg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n            </label>\n            <div className=\"shareOption\">\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Tag</span>\n            </div>\n            <div className=\"shareOption\">\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Location</span>\n            </div>\n            <div className=\"shareOption\">\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Feelings</span>\n            </div>\n          </div>\n          <button className=\"shareButton\" type=\"submit\">\n            Share\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Feed({ username }) {\n  const [posts, setPosts] = useState([]);\n  const { user } = useContext(AuthContext);\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = username\n        ? await axios.get(API+\"/posts/profile/\" + username)\n        : await axios.get(API+\"/posts/timeline/\" + user._id);\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user._id, API]);\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {(!username || username === user.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import \"./online.css\";\n\nexport default function Online({user}) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  // const API = process.env.REACT_APP_API_BASE_URL;\n\n  return (\n    <li className=\"rightbarFriend\">\n      <div className=\"rightbarProfileImgContainer\">\n        <img className=\"rightbarProfileImg\" src={PF+user.profilePicture} alt=\"\" />\n        <span className=\"rightbarOnline\"></span>\n      </div>\n      <span className=\"rightbarUsername\">{user.username}</span>\n    </li>\n  );\n}\n","import \"./rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\n\nexport default function Rightbar({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const API = process.env.REACT_APP_API_BASE_URL;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?.id)\n  );\n\n  useEffect(() => {\n    const getFriends = async () => {\n      try {\n        const friendList = await axios.get(API+\"/users/friends/\" + user._id);\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFriends();\n  }, [API,user]);\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`${API}/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.post(`${API}/conversations`, {\n          senderId: currentUser._id,\n          receiverId: user._id,\n        });\n        await axios.put(`${API}/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {}\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Prakhar Bansal</b> and <b>3 other friends</b> have a birhday\n            today.\n          </span>\n        </div>\n        <img className=\"rightbarAd\" src=\"assets/noCover.png\" alt=\"\" />\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 1\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : PF + \"person/noAvatar.png\"\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\n      </div>\n    </div>\n  );\n}\n","import Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\"\n\nexport default function Home() {\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <Feed/>\n        <Rightbar/>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\n\nexport const loginCall = async (userCredential, dispatch) => {\n  const API = process.env.REACT_APP_API_BASE_URL;\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(API+\"/auth/login\", userCredential);\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (err) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n  }\n};\n\n","import { useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { isFetching, dispatch } = useContext(AuthContext);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    loginCall(\n      { email: email.current.value, password: password.current.value },\n      dispatch\n    );\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Sociallite</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Sociallite.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <button className=\"loginRegisterButton\">\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./profile.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router\";\n\nexport default function Profile() {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const username = useParams().username;\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${API}/users?username=${username}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [API, username]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <Sidebar />\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n            <div className=\"profileCover\">\n              <img\n                className=\"profileCoverImg\"\n                src={\n                  user.coverPicture\n                    ? PF + user.coverPicture\n                    : PF + \"person/noCover.png\"\n                }\n                alt=\"\"\n              />\n              <img\n                className=\"profileUserImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </div>\n            <div className=\"profileInfo\">\n              <h4 className=\"profileInfoName\">{user.username}</h4>\n              <span className=\"profileInfoDesc\">{user.desc}</span>\n            </div>\n          </div>\n          <div className=\"profileRightBottom\">\n            <Feed username={username} />\n            <Rightbar user={user} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport { useRef } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(API+\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Sociallite</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Sociallite.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            <Link to=\"/login\" style={{ textAlign: \"center\" }}>\n              <button className=\"loginRegisterButton\">Log into Account</button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./conversation.css\";\n\nexport default function Conversation({ conversation, currentUser }) {\n  const [user, setUser] = useState(null);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  useEffect(() => {\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\n\n    const getUser = async () => {\n      try {\n        const res = await axios(API+\"/users?userId=\" + friendId);\n        setUser(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getUser();\n  }, [currentUser, conversation, user, API]);\n\n  return (\n    <div className=\"conversation\">\n      <img\n        className=\"conversationImg\"\n        src={\n          user?.profilePicture\n            ? PF + user.profilePicture\n            : PF + \"person/noAvatar.png\"\n        }\n        alt=\"\"\n      />\n      <span className=\"conversationName\">{user?.username}</span>\n    </div>\n  );\n}\n","import \"./message.css\";\nimport { format } from \"timeago.js\";\n\nexport default function Message({ message, own }) {\n  // const API = process.env.REACT_APP_API_BASE_URL;\n  return (\n    <div className={own ? \"message own\" : \"message\"}>\n      <div className=\"messageTop\">\n        <img\n          className=\"messageImg\"\n          src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\n          alt=\"\"\n        />\n        <p className=\"messageText\">{message.text}</p>\n      </div>\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState} from \"react\";\nimport \"./chatOnline.css\";\n\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\n  // const { user } = useContext(AuthContext);\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  // const [conversations, setConversations] = useState([]);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  useEffect(() => {\n    const getFriends = async () => {\n      const res = await axios.get(API+\"/users/friends/\" + currentId);\n      setFriends(res.data);\n    };\n\n    getFriends();\n  }, [API, currentId]);\n\n  useEffect(() => {\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\n  }, [friends, onlineUsers]);\n\n  // useEffect(\n  //   async (user) => {\n  //     const res2 = await axios.post(`/conversations`, {\n  //       senderId: currentId,\n  //       receiverId: user._id,\n  //     });\n  //     res2();\n  //   },\n  //   [currentId, user._id]\n  // );\n\n  // useEffect(() => {\n  //   const getConversations = async () => {\n  //     await axios.post(`/conversations`, {\n  //       senderId: currentId,\n  //       receiverId: user._id,\n  //     });\n  //   };\n  //   getConversations();\n  // });\n\n  const handleClick = async (user) => {\n    try {\n      const res = await axios.get(\n        `${API}/conversations/find/${currentId}/${user._id}`\n      );\n      setCurrentChat(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"chatOnline\">\n      {onlineFriends.map((o) => (\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\n          <div className=\"chatOnlineImgContainer\">\n            <img\n              className=\"chatOnlineImg\"\n              src={\n                o?.profilePicture\n                  ? PF + o.profilePicture\n                  : PF + \"person/noAvatar.png\"\n              }\n              alt=\"\"\n            />\n            <div className=\"chatOnlineBadge\"></div>\n          </div>\n          <span className=\"chatOnlineName\">{o?.username}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import \"./messenger.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Conversation from \"../../components/conversations/Conversation\";\nimport Message from \"../../components/message/Message\";\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\n\nexport default function Messenger() {\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  const { user } = useContext(AuthContext);\n  const scrollRef = useRef();\n  const API = process.env.REACT_APP_API_BASE_URL;\n\n  useEffect(() => {\n    socket.current = io(\"https://sociallite-socket.herokuapp.com\");\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user._id);\n    socket.current.on(\"getUsers\", (users) => {\n      setOnlineUsers(\n        user.followings.filter((f) => users.some((u) => u.userId === f))\n      );\n    });\n  }, [user]);\n\n  useEffect(() => {\n    const getConversations = async () => {\n      try {\n        const res = await axios.get(API+\"/conversations/\" + user._id);\n        setConversations(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getConversations();\n  }, [API,user._id]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(API+\"/messages/\" + currentChat?._id);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n  }, [API, currentChat]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const message = {\n      sender: user._id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    const receiverId = currentChat.members.find(\n      (member) => member !== user._id\n    );\n\n    socket.current.emit(\"sendMessage\", {\n      senderId: user._id,\n      receiverId,\n      text: newMessage,\n    });\n\n    try {\n      const res = await axios.post(API+\"/messages\", message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"messenger\">\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\n            {conversations.map((c) => (\n              <div onClick={() => setCurrentChat(c)}>\n                <Conversation conversation={c} currentUser={user} />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"chatBox\">\n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((m) => (\n                    <div ref={scrollRef}>\n                      <Message message={m} own={m.sender === user._id} />\n                    </div>\n                  ))}\n                </div>\n                <div className=\"chatBoxBottom\">\n                  <textarea\n                    className=\"chatMessageInput\"\n                    placeholder=\"write something...\"\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    value={newMessage}\n                  ></textarea>\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\n                    Send\n                  </button>\n                </div>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat.\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"chatOnline\">\n          <div className=\"chatOnlineWrapper\">\n            <ChatOnline\n              onlineUsers={onlineUsers}\n              currentId={user._id}\n              setCurrentChat={setCurrentChat}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport React, { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}